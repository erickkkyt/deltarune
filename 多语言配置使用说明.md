# Deltarune ç½‘ç«™å¤šè¯­è¨€é…ç½®ä½¿ç”¨è¯´æ˜

## æ¦‚è¿°

æœ¬é¡¹ç›®åŸºäº next-intl å®ç°äº†å®Œæ•´çš„å¤šè¯­è¨€æ”¯æŒç³»ç»Ÿï¼Œæ”¯æŒä¸­è‹±æ–‡åŒè¯­åˆ‡æ¢ã€‚é…ç½®çµæ´»ï¼Œå¯é€šè¿‡ç®€å•å¼€å…³æ§åˆ¶æ˜¯å¦å¯ç”¨å¤šè¯­è¨€åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§
- âœ… æ”¯æŒä¸­è‹±æ–‡åŒè¯­ (en/zh)
- âœ… çµæ´»çš„å¼€å…³æ§åˆ¶ (å¯ä¸€é”®å¯ç”¨/ç¦ç”¨å¤šè¯­è¨€)
- âœ… æŒ‰æ¨¡å—åˆ†å‰²çš„ç¿»è¯‘æ–‡ä»¶ç»“æ„
- âœ… SEO å‹å¥½çš„å¤šè¯­è¨€è·¯ç”±
- âœ… è‡ªåŠ¨è¯­è¨€æ£€æµ‹å’Œé‡å®šå‘
- âœ… å®Œæ•´çš„ç»„ä»¶å›½é™…åŒ–æ”¯æŒ

### ğŸ› ï¸ æŠ€æœ¯å®ç°
- åŸºäº next-intl v3 æœ€æ–°ç‰ˆæœ¬
- App Router å…¼å®¹
- TypeScript æ”¯æŒ
- æœåŠ¡ç«¯æ¸²æŸ“ (SSR) æ”¯æŒ
- é™æ€ç”Ÿæˆ (SSG) æ”¯æŒ

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ site.ts                 # ç«™ç‚¹é…ç½®ï¼ŒåŒ…å«å¤šè¯­è¨€å¼€å…³
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ routing.ts             # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ request.ts             # è¯·æ±‚é…ç½®
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ LocaleSwitcher.tsx     # è¯­è¨€åˆ‡æ¢å™¨
â”‚   â””â”€â”€ LocaleSwitcherSelect.tsx # è¯­è¨€é€‰æ‹©ä¸‹æ‹‰
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ [locale]/              # å¤šè¯­è¨€è·¯ç”±ç»“æ„
â”‚   â”‚   â”œâ”€â”€ layout.tsx         # å¤šè¯­è¨€å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ blog/              # åšå®¢é¡µé¢
â”‚   â”‚   â”œâ”€â”€ privacy/           # éšç§æ”¿ç­–
â”‚   â”‚   â””â”€â”€ terms/             # æœåŠ¡æ¡æ¬¾
â”‚   â””â”€â”€ page.tsx               # æ ¹é¡µé¢é‡å®šå‘
â”œâ”€â”€ messages/                  # ç¿»è¯‘æ–‡ä»¶
â”‚   â”œâ”€â”€ en/                    # è‹±æ–‡ç¿»è¯‘
â”‚   â”‚   â”œâ”€â”€ common.json
â”‚   â”‚   â”œâ”€â”€ home.json
â”‚   â”‚   â”œâ”€â”€ navigation.json
â”‚   â”‚   â”œâ”€â”€ footer.json
â”‚   â”‚   â”œâ”€â”€ blog.json
â”‚   â”‚   â”œâ”€â”€ privacy.json
â”‚   â”‚   â”œâ”€â”€ terms.json
â”‚   â”‚   â”œâ”€â”€ features.json
â”‚   â”‚   â”œâ”€â”€ faq.json
â”‚   â”‚   â””â”€â”€ whatis.json
â”‚   â””â”€â”€ zh/                    # ä¸­æ–‡ç¿»è¯‘
â”‚       â”œâ”€â”€ common.json
â”‚       â”œâ”€â”€ home.json
â”‚       â”œâ”€â”€ navigation.json
â”‚       â”œâ”€â”€ footer.json
â”‚       â”œâ”€â”€ blog.json
â”‚       â”œâ”€â”€ privacy.json
â”‚       â”œâ”€â”€ terms.json
â”‚       â”œâ”€â”€ features.json
â”‚       â”œâ”€â”€ faq.json
â”‚       â””â”€â”€ whatis.json
â””â”€â”€ middleware.ts              # ä¸­é—´ä»¶é…ç½®
```

## ä½¿ç”¨æ–¹æ³•

### 1. å¯ç”¨/ç¦ç”¨å¤šè¯­è¨€

åœ¨ `src/config/site.ts` ä¸­ä¿®æ”¹é…ç½®ï¼š

```typescript
export const siteConfig = {
  i18n: {
    enabled: 1,          // 1: å¯ç”¨å¤šè¯­è¨€, 0: ç¦ç”¨å¤šè¯­è¨€
    defaultLocale: "en", // é»˜è®¤è¯­è¨€
    locales: ["en", "zh"] // æ”¯æŒçš„è¯­è¨€åˆ—è¡¨
  }
  // ... å…¶ä»–é…ç½®
};
```

### 2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ç¿»è¯‘

```typescript
import { useTranslations } from 'next-intl';

export default function MyComponent() {
  const t = useTranslations('common');
  
  return (
    <div>
      <h1>{t('title')}</h1>
      <button>{t('buttons.submit')}</button>
    </div>
  );
}
```

### 3. åœ¨æœåŠ¡ç«¯ç»„ä»¶ä¸­ä½¿ç”¨ç¿»è¯‘

```typescript
import { getTranslations } from 'next-intl/server';

export default async function ServerComponent({
  params
}: {
  params: Promise<{ locale: string }>
}) {
  const { locale } = await params;
  const t = await getTranslations({ locale, namespace: 'home' });
  
  return <h1>{t('hero.title')}</h1>;
}
```

### 4. ä½¿ç”¨å¤šè¯­è¨€å¯¼èˆª

```typescript
import { Link } from '@/i18n/navigation';

export default function Navigation() {
  return (
    <nav>
      <Link href="/blog">åšå®¢</Link>
      <Link href="/privacy">éšç§æ”¿ç­–</Link>
    </nav>
  );
}
```

### 5. æ·»åŠ è¯­è¨€åˆ‡æ¢å™¨

```typescript
import LocaleSwitcher from '@/components/LocaleSwitcher';

export default function Header() {
  return (
    <header>
      {/* å…¶ä»–å¯¼èˆªå…ƒç´  */}
      <LocaleSwitcher />
    </header>
  );
}
```

## ç¿»è¯‘æ–‡ä»¶æ ¼å¼

### åŸºæœ¬æ ¼å¼
```json
{
  "title": "ç½‘ç«™æ ‡é¢˜",
  "buttons": {
    "submit": "æäº¤",
    "cancel": "å–æ¶ˆ"
  }
}
```

### å¸¦å‚æ•°çš„ç¿»è¯‘
```json
{
  "welcome": "æ¬¢è¿, {name}!",
  "publishedOn": "å‘å¸ƒäº {date}"
}
```

### ä½¿ç”¨å‚æ•°
```typescript
const t = useTranslations('common');
return <p>{t('welcome', { name: 'John' })}</p>;
```

## è·¯ç”±ç»“æ„

### å¤šè¯­è¨€å¯ç”¨æ—¶
- `/` â†’ é‡å®šå‘åˆ° `/en`
- `/en` â†’ è‹±æ–‡é¦–é¡µ
- `/zh` â†’ ä¸­æ–‡é¦–é¡µ
- `/en/blog` â†’ è‹±æ–‡åšå®¢
- `/zh/blog` â†’ ä¸­æ–‡åšå®¢

### å¤šè¯­è¨€ç¦ç”¨æ—¶
- `/` â†’ é»˜è®¤è¯­è¨€é¦–é¡µ
- `/blog` â†’ é»˜è®¤è¯­è¨€åšå®¢
- `/privacy` â†’ é»˜è®¤è¯­è¨€éšç§æ”¿ç­–

## SEO ä¼˜åŒ–

### 1. è‡ªåŠ¨ç”Ÿæˆ hreflang æ ‡ç­¾
```html
<link rel="alternate" hreflang="en" href="https://deltarune.cc/en" />
<link rel="alternate" hreflang="zh" href="https://deltarune.cc/zh" />
<link rel="alternate" hreflang="x-default" href="https://deltarune.cc/" />
```

### 2. å¤šè¯­è¨€å…ƒæ•°æ®
```typescript
export async function generateMetadata({ params }) {
  const { locale } = await params;
  const t = await getTranslations({ locale, namespace: 'home' });
  
  return {
    title: t('hero.title'),
    description: t('hero.description'),
    openGraph: {
      locale: locale === 'zh' ? 'zh_CN' : 'en_US'
    }
  };
}
```

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°è¯­è¨€ï¼Ÿ
A: 
1. åœ¨ `siteConfig.i18n.locales` ä¸­æ·»åŠ è¯­è¨€ä»£ç 
2. åœ¨ `messages/` ç›®å½•ä¸‹åˆ›å»ºå¯¹åº”çš„ç¿»è¯‘æ–‡ä»¶å¤¹
3. å¤åˆ¶ç¿»è¯‘æ–‡ä»¶å¹¶ç¿»è¯‘å†…å®¹

### Q: å¦‚ä½•æ·»åŠ æ–°çš„ç¿»è¯‘å‘½åç©ºé—´ï¼Ÿ
A: 
1. åœ¨ `messages/{locale}/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ JSON æ–‡ä»¶
2. åœ¨ `src/i18n/request.ts` ä¸­å¯¼å…¥æ–°çš„ç¿»è¯‘æ–‡ä»¶
3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ `useTranslations('æ–°å‘½åç©ºé—´')`

### Q: ä¸ºä»€ä¹ˆæœ‰äº›é¡µé¢æ²¡æœ‰å¤šè¯­è¨€ï¼Ÿ
A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®ä¿é¡µé¢åœ¨ `[locale]` ç›®å½•ä¸‹
2. ç¡®ä¿æœ‰å¯¹åº”çš„ç¿»è¯‘æ–‡ä»¶
3. ç¡®ä¿åœ¨ç»„ä»¶ä¸­æ­£ç¡®ä½¿ç”¨äº†ç¿»è¯‘å‡½æ•°

### Q: å¦‚ä½•ä¸´æ—¶ç¦ç”¨å¤šè¯­è¨€ï¼Ÿ
A: å°† `siteConfig.i18n.enabled` è®¾ç½®ä¸º `0`ï¼Œç½‘ç«™å°†ä»¥é»˜è®¤è¯­è¨€è¿è¡Œã€‚

## éƒ¨ç½²æ³¨æ„äº‹é¡¹

1. ç¡®ä¿æ‰€æœ‰ç¿»è¯‘æ–‡ä»¶éƒ½å·²æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
2. éªŒè¯å¤šè¯­è¨€è·¯ç”±åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ­£å¸¸å·¥ä½œ
3. æ£€æŸ¥ SEO æ ‡ç­¾æ˜¯å¦æ­£ç¡®ç”Ÿæˆ
4. æµ‹è¯•è¯­è¨€åˆ‡æ¢åŠŸèƒ½

## æ€§èƒ½ä¼˜åŒ–

1. ç¿»è¯‘æ–‡ä»¶æŒ‰æ¨¡å—åˆ†å‰²ï¼Œé¿å…åŠ è½½ä¸å¿…è¦çš„ç¿»è¯‘
2. ä½¿ç”¨ TypeScript ç¡®ä¿ç¿»è¯‘é”®çš„ç±»å‹å®‰å…¨
3. æ”¯æŒé™æ€ç”Ÿæˆï¼Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦
4. åˆ©ç”¨ Next.js çš„ä»£ç åˆ†å‰²ç‰¹æ€§

## ç»´æŠ¤æŒ‡å—

### æ·»åŠ æ–°ç¿»è¯‘
1. åœ¨å¯¹åº”è¯­è¨€çš„ JSON æ–‡ä»¶ä¸­æ·»åŠ ç¿»è¯‘é”®å€¼å¯¹
2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ç¿»è¯‘å‡½æ•°
3. æµ‹è¯•ç¿»è¯‘æ˜¯å¦æ­£ç¡®æ˜¾ç¤º

### æ›´æ–°ç°æœ‰ç¿»è¯‘
1. ä¿®æ”¹ JSON æ–‡ä»¶ä¸­çš„ç¿»è¯‘å†…å®¹
2. ç¡®ä¿æ‰€æœ‰è¯­è¨€ç‰ˆæœ¬éƒ½å·²æ›´æ–°
3. éªŒè¯UIæ˜¾ç¤ºæ˜¯å¦æ­£å¸¸

### è°ƒè¯•ç¿»è¯‘é—®é¢˜
1. æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰ç¿»è¯‘é”™è¯¯
2. éªŒè¯ç¿»è¯‘é”®æ˜¯å¦å­˜åœ¨
3. ç¡®è®¤ç¿»è¯‘æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®

## æ€»ç»“

æœ¬å¤šè¯­è¨€é…ç½®ç³»ç»Ÿå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

1. **çµæ´»æ€§**: å¯é€šè¿‡é…ç½®å¼€å…³è½»æ¾å¯ç”¨/ç¦ç”¨
2. **å¯ç»´æŠ¤æ€§**: æ¨¡å—åŒ–çš„ç¿»è¯‘æ–‡ä»¶ç»“æ„
3. **æ€§èƒ½**: æŒ‰éœ€åŠ è½½ç¿»è¯‘å†…å®¹
4. **SEOå‹å¥½**: å®Œæ•´çš„å¤šè¯­è¨€SEOæ”¯æŒ
5. **å¼€å‘ä½“éªŒ**: TypeScript æ”¯æŒå’Œè‰¯å¥½çš„å¼€å‘å·¥å…·

è¯¥é…ç½®å·²ç»ä¸º Deltarune ç½‘ç«™æä¾›äº†å®Œæ•´çš„ä¸­è‹±æ–‡åŒè¯­æ”¯æŒï¼Œå¯æ ¹æ®éœ€è¦è¿›ä¸€æ­¥æ‰©å±•æ›´å¤šè¯­è¨€ã€‚ 